# ====================
# CARID SERVICE CONFIGURATION
# ====================
# Copy this file to .env and fill in your actual values

# ====================
# GOOGLE CLOUD STORAGE (Required)
# ====================

# Your GCS bucket name where training images are stored
GCS_BUCKET_NAME=carid-trained-images

# Path to your Google Cloud service account JSON credentials file
# For Docker: /app/gcs-key.json
# For local development: /path/to/your/service-account.json
GCS_CREDENTIALS_PATH=/path/to/your/service-account.json

# ====================
# DATA STORAGE
# ====================
# Directory where FAISS indices and metadata are stored
DATA_DIR=/app/data

# ====================
# MACHINE LEARNING MODELS
# ====================
# Device to use for inference: "cpu" or "cuda"
DEVICE=cpu

# OpenCLIP model architecture
CLIP_MODEL=ViT-B-32

# OpenCLIP pretrained model weights
CLIP_PRETRAIN=laion2b_s34b_b79k

# ====================
# RETRIEVAL THRESHOLDS
# ====================
# Number of top results to consider
TOPK=5

# Minimum cosine similarity score to accept a match (0.0-1.0)
# Higher = stricter classification
ACCEPT_THRESHOLD=0.80

# Required margin between top-1 and top-2 results (0.0-1.0)
# Higher = requires clearer distinction between classes
MARGIN_THRESHOLD=0.05

# Maximum score for negative samples to still accept (0.0-1.0)
# Lower = more aggressive negative rejection
NEG_ACCEPT_CAP=0.80

# ====================
# INDEXING BEHAVIOR
# ====================
# Use prototype mode: "true" = per-class centroid, "false" = per-image index
PROTOTYPE_MODE=true

# Prefix for folders containing negative samples (e.g., "_negative", "_unknown")
NEG_PREFIX=_

# ====================
# DOCKER COMPOSE VARIABLES (Optional)
# ====================
# Uncomment and set this if mounting GCS credentials as volume in docker-compose
# GCS_SERVICE_ACCOUNT_PATH=/path/to/your/service-account.json
